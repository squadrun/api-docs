
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="../images/favicon.ico" rel="icon" type="image/ico" />
    <title>SquadVoice API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all.js"></script>
  </head>

  <body class="v1 v1_in" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../images/squadvoice.svg" class="logo" alt="Squadvoice" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-access-token" class="toc-h2 toc-link" data-title="Get Access Token">Get Access Token</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#leads" class="toc-h1 toc-link" data-title="Leads">Leads</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-lead" class="toc-h2 toc-link" data-title="Create a Lead">Create a Lead</a>
                  </li>
                  <li>
                    <a href="#get-leads" class="toc-h2 toc-link" data-title="Get Leads">Get Leads</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#response-formats" class="toc-h1 toc-link" data-title="Response Formats">Response Formats</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#call-attempt" class="toc-h2 toc-link" data-title="Call Attempt">Call Attempt</a>
                  </li>
                  <li>
                    <a href="#gmail" class="toc-h2 toc-link" data-title="Gmail">Gmail</a>
                  </li>
                  <li>
                    <a href="#ivr" class="toc-h2 toc-link" data-title="IVR">IVR</a>
                  </li>
                  <li>
                    <a href="#sms" class="toc-h2 toc-link" data-title="SMS">SMS</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started</h1>
<p>Welcome to Squadvoice API! <a href="https://www.squadvoice.co/">SquadVoice</a> provides businesses with an omni-channel outreach engine + distributed team of expert calling reps. Our platform qualifies your Leads faster and provides more sales opportunities. You can use this API to access our API endpoints such as Leads API to add Leads to your campaigns or Response API to know status of your Leads. </p>
<h1 id='authentication'>Authentication</h1><h2 id='get-access-token'>Get Access Token</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/oauth/token/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"grant_type"</span><span class="p">:</span> <span class="s">"password"</span><span class="p">,</span> 
  <span class="s">"client_id"</span><span class="p">:</span> <span class="s">"test_client_id"</span><span class="p">,</span> 
  <span class="s">"client_secret"</span><span class="p">:</span> <span class="s">"test_client_secret"</span><span class="p">,</span> 
  <span class="s">"username"</span><span class="p">:</span> <span class="s">"test_api_user"</span><span class="p">,</span> 
  <span class="s">"password"</span><span class="p">:</span> <span class="s">"test_api_user"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -d <span class="se">\</span>
<span class="s2">"client_id=test_client_id&amp;client_secret=test_client_secret
&amp;grant_type=password&amp;username=test_api_user
&amp;password=test_api_user"</span> <span class="se">\h</span>ttps://app.squadrun.co/oauth/token/
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OBs8bc5PdrzQNd3FaMRp5CkHFhinD9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tEonECLhjMlLf4ZWs56LT43HOrivEt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read write"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this API to generate an access token that can be used for authentication in subsequent API requests.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/oauth/token/</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>True</td>
<td>Client Identifier</td>
</tr>
<tr>
<td>client_secret</td>
<td>True</td>
<td>Client Secret</td>
</tr>
<tr>
<td>grant_type</td>
<td>True</td>
<td>&quot;password&quot; is the grant_type that should be sent initially</td>
</tr>
<tr>
<td>username</td>
<td>True</td>
<td>Username</td>
</tr>
<tr>
<td>password</td>
<td>True</td>
<td>Password</td>
</tr>
</tbody></table>
<h3 id='how-to-get-the-credentials'>How to get the credentials</h3>
<p>They can be found by signing up on SquadRun&#39;s <a href="https://app.squadvoice.co/voice/dashboard/campaigns/">Client Dashboard</a>.</p>

<p><code>client_id</code> and <code>client_secret</code> can be found on the <a href="https://app.squadvoice.co/voice/dashboard/integrations/">API Integration Page</a> on the dashboard.</p>

<aside class="notice">
  <code>/oauth/token/</code> endpoint accepts data as a POST form and not a json dump unlike rest of the APIs below
</aside>
<h1 id='leads'>Leads</h1><h2 id='create-a-lead'>Create a Lead</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/api/v1/leads/create/{campaign_id}/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"lead_id"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"{valid phone number}"</span><span class="p">,</span>
    <span class="s">"contact_name"</span><span class="p">:</span> <span class="s">"John Doe"</span>
    <span class="s">"{custom_field_1}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span><span class="p">,</span>
    <span class="s">"{custom_field_2}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer test_token"</span><span class="p">,</span> 
    <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://app.squadrun.co/api/v1/leads/create/{campaign_id}/'</span> <span class="se">\</span>
-H <span class="s1">'Authorization: Bearer test_token'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
--data-binary <span class="s1">$'{"lead_id": 1, "phone_number": "{valid phone number}", \
"contact_name": "John Doe", "{custom_field_1}": "{custom_value}", "{custom_field_2}": "{custom_value}"}'</span>
</code></pre>
<p>Use this API to create a new Lead in your Squadvoice Campaign.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/api/v1/leads/create/{campaign_id}/&quot;</code></p>
<h3 id='headers'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>&quot;application/json&quot;</td>
</tr>
<tr>
<td>Authorization</td>
<td>&quot;Bearer {access_token}&quot;</td>
</tr>
</tbody></table>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>campaign_id</td>
<td>True</td>
<td>The ID of the Campaign</td>
</tr>
</tbody></table>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lead_id</td>
<td>True</td>
<td>Unique Identifier of the Lead</td>
</tr>
<tr>
<td>phone_number</td>
<td>True</td>
<td>Valid phone number of the Lead</td>
</tr>
<tr>
<td>contact_name</td>
<td>True</td>
<td>Name of the Lead being contacted</td>
</tr>
<tr>
<td>custom_field</td>
<td>True</td>
<td>Any key value pair other than this</td>
</tr>
</tbody></table>

<aside class="success">
  <b>Data Security</b>
  <p>
    Goes without saying your data is secure with us. :)<br>
    We protect your Leadâ€™s phone number by masking them. This way the <code>phone_number</code> you share with us is never shared with our reps.
  </p>
</aside>
<h2 id='get-leads'>Get Leads</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/api/v1/leads/responses/{campaign_id}/?page_size=1"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer test_token"</span><span class="p">}</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"min_called_at"</span><span class="p">:</span> <span class="mi">1479973282000</span><span class="p">,</span> 
    <span class="s">"lead_id"</span><span class="p">:</span> <span class="mi">8</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl 
-H <span class="s2">"Authorization: Bearer test_token"</span> 
-X GET <span class="s2">"https://app.squadrun.co/api/v1/leads/responses/{campaign_id}/?page_size=1"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://app.squadrun.co/api/v1/leads/responses/{campaign_id}/?page=2&amp;page_size=1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"lead_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919899550412"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contact_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"919899550412"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531409739413</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0PT711"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{Name of the Campaign}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"call_attempt_keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"last_call_attempt_keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this API to get information about a Lead/Leads.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://app.squadrun.co/api/v1/leads/responses/{campaign_id}/</code></p>
<h3 id='headers-2'>Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td>&quot;application/json&quot;</td>
</tr>
<tr>
<td>Authorization</td>
<td>&quot;Bearer {access_token}&quot;</td>
</tr>
</tbody></table>
<h3 id='path-parameters-2'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>campaign_id</td>
<td>True</td>
<td>The ID of the Campaign</td>
</tr>
</tbody></table>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lead_id</td>
<td>False</td>
<td>-</td>
<td>Unique Identifier of the Lead</td>
</tr>
<tr>
<td>processed_after</td>
<td>False</td>
<td>-</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td>processed_before</td>
<td>False</td>
<td>-</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td>page</td>
<td>False</td>
<td>-</td>
<td>Page number to return</td>
</tr>
<tr>
<td>page_size</td>
<td>False</td>
<td>100</td>
<td>Number of leads to return per page</td>
</tr>
</tbody></table>
<h3 id='response-structure'>Response Structure</h3>
<p>The response you will get is a combination of some fixed keys and some dynamic keys based on the custom fields that you sent while creating the Lead, the stage at which the Lead is and how you have set up your campaign.</p>

<p><strong>Fixed Keys</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lead_id</td>
<td>Unique Identifier of the Lead</td>
</tr>
<tr>
<td>phone_number</td>
<td>Phone number of the Lead</td>
</tr>
<tr>
<td>contact_name</td>
<td>Name of the Lead</td>
</tr>
<tr>
<td>created_at</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td>campaign_id</td>
<td>Campaign ID which you sent in the URL too</td>
</tr>
<tr>
<td>campaign_name</td>
<td>Name of the Campaign</td>
</tr>
<tr>
<td>country_code</td>
<td>Country Code</td>
</tr>
<tr>
<td>call_attempt_keys</td>
<td>List of keys that contain the answers of Call Attempts</td>
</tr>
<tr>
<td>last_call_attempt_keys</td>
<td>List of keys that contain the answer of the last call attempt</td>
</tr>
<tr>
<td>total_cost</td>
<td>Cost of processing the Lead</td>
</tr>
</tbody></table>

<p><strong>Extra keys if the Lead is Processed</strong></p>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>processed_at</td>
<td>Epoch timestamp for when the Lead was processed</td>
</tr>
<tr>
<td>outcome_name</td>
<td>Phone number of the Lead</td>
</tr>
<tr>
<td>outcome_id</td>
<td>Name of the Lead</td>
</tr>
</tbody></table>

<aside class='notice'>
  <b>Response format</b>
  <p>
    Response format differs by the type of outreach you choose in your Campaign.<br>
    Please find an extensive documentation here: <a href="#response-formats">Response formats</a>
  </p>
</aside>
<h1 id='response-formats'>Response Formats</h1>
<p>SquadVoice&#39;s extensive API response sends each and every data point related to your campaign. That means, if an Email was sent out to the Lead, the API response will contain the information about the Email sent as well.</p>

<p>Some variables used in the <code>keys</code> are:</p>

<ol>
<li><strong>campaign_name</strong>: This is the name you set while creating the Campaign.</li>
<li><strong>block_name</strong>: This is the name of the block you define in your sequence.</li>
</ol>

<p>Following are the different formats for each outreach type.</p>
<h2 id='call-attempt'>Call Attempt</h2><pre class="highlight json tab-json"><code><span class="s2">"call_attempt_{campaign_name}_1"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H8Y4RMP1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outcome_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
        </span><span class="s2">"outcome_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wrong Number"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"call_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
        </span><span class="s2">"called_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531241588351</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report_keys_order"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"additional_notes"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"question_1"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"question_n"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review_completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"question_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer 1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"additional_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ex boyfriend's number."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"question_n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer n"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="s2">"last_call_attempt_{campaign_name}_1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"reference_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H8Y4RMP1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outcome_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outcome_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wrong Number"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"call_duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="p">,</span><span class="w">
    </span><span class="s2">"called_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531241588351</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report_keys_order"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"additional_notes"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"question_1"</span><span class="p">,</span><span class="w"> 
        </span><span class="s2">"question_n"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review_completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer 1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"additional_notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ex boyfriend's number."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"question_n"</span><span class="p">:</span><span class="w"> </span><span class="s2">"answer n"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Call Attempt is made when you add a script etc. to the Campaign.</p>

<p>It adds the following <code>keys</code> to the <code>json</code> response:</p>

<ol>
<li><strong>call_attempt_{campaign_name}_1</strong>: Since for each Lead, we might make multiple attempts, we add each attempt to a list.</li>
<li><strong>last_call_attempt_{campaign_name}_1</strong>: Also, to make it easy to consume without writing code, we send out the answers for the last call attempt that was made for that lead also separately in this key.</li>
</ol>
<h3 id='response-format'>Response Format</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reference_id</td>
<td>Unique Identifier of the Call Attempt</td>
</tr>
<tr>
<td>outcome_id</td>
<td>ID of the outcome of the Call Attempt</td>
</tr>
<tr>
<td>outcome_name</td>
<td>Name of the outcome</td>
</tr>
<tr>
<td>call_duration</td>
<td>Duration of the Call</td>
</tr>
<tr>
<td>called_at</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td>report_keys_order</td>
<td>List of keys in order of which they were asked by the Lead</td>
</tr>
<tr>
<td>question_1</td>
<td>answer 1 (these are based on the script that you created)</td>
</tr>
</tbody></table>
<h2 id='gmail'>Gmail</h2><pre class="highlight json tab-json"><code><span class="s2">"gmail_{block_name}"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING OR NOT AVAILABLE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owlcity@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subject"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owl City Subject"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fireflies@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owlcity@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sent_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531241588351</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It adds the following <code>keys</code> to the <code>json</code> response:</p>

<ol>
<li><strong>gmail_{block_name}</strong></li>
</ol>
<h3 id='response-format-2'>Response Format</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cost</td>
<td>Cost for the operation</td>
</tr>
<tr>
<td>google_email</td>
<td>Email ID from which the email was sent</td>
</tr>
<tr>
<td>subject</td>
<td>Subject of the Email</td>
</tr>
<tr>
<td>to</td>
<td>Email ID of the recipient</td>
</tr>
<tr>
<td>from</td>
<td>Email ID of the Sender</td>
</tr>
<tr>
<td>sent_at</td>
<td>Epoch timestamp of when the operation was performed</td>
</tr>
</tbody></table>
<h2 id='ivr'>IVR</h2><pre class="highlight json tab-json"><code><span class="s2">"ivr_{block_name}"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING OR NOT AVAILABLE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING OR NOT AVAILABLE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"text_to_speak"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Test"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"multi_text_to_speak"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"owlcity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fireflies"</span><span class="p">},</span><span class="w">
    </span><span class="s2">"dtmf_response"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sent_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531241588351</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It adds the following <code>keys</code> to the <code>json</code> response:</p>

<ol>
<li><strong>ivr_{block_name}</strong></li>
</ol>
<h3 id='response-format-3'>Response Format</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cost</td>
<td>Cost for the operation</td>
</tr>
<tr>
<td>status</td>
<td>Status of the operation</td>
</tr>
<tr>
<td>text_to_speak</td>
<td>Text that was spoken</td>
</tr>
<tr>
<td>multi_text_to_speak</td>
<td>Multiple text that was spoken</td>
</tr>
<tr>
<td>dtmf_response</td>
<td>Response by the Lead, if any</td>
</tr>
<tr>
<td>duration</td>
<td>Number of seconds for which the IVR was played</td>
</tr>
<tr>
<td>sent_at</td>
<td>Epoch timestamp of when the operation was performed</td>
</tr>
</tbody></table>
<h2 id='sms'>SMS</h2><pre class="highlight json tab-json"><code><span class="s2">"sms_{block_name}"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING OR NOT AVAILABLE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cost"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING OR NOT AVAILABLE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Test"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sent_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1531241588351</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>It adds the following <code>keys</code> to the <code>json</code> response:</p>

<ol>
<li><strong>sms_{block_name}</strong></li>
</ol>
<h3 id='response-format-4'>Response Format</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cost</td>
<td>Cost for the operation</td>
</tr>
<tr>
<td>status</td>
<td>Status of the operation</td>
</tr>
<tr>
<td>body</td>
<td>Body of the SMS</td>
</tr>
<tr>
<td>sent_at</td>
<td>Epoch timestamp of when the operation was performed</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This defines all the error codes you might encounter in the code
</aside>

<p>The SquadVoice API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Authentication failed. API credentials are incorrect.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- You do not have permission to perform this action.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoing with an invalid method.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You hit a rate limit!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
