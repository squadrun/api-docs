
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="../images/favicon.ico" rel="icon" type="image/ico" />
    <title>SquadVoice API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all.js"></script>
  </head>

  <body class="v4 v4_in" data-languages="[&quot;shell&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../images/squadvoice.svg" class="logo" alt="Squadvoice" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-access-token" class="toc-h2 toc-link" data-title="Get Access Token">Get Access Token</a>
                  </li>
                  <li>
                    <a href="#refresh-access-token" class="toc-h2 toc-link" data-title="Refresh Access Token">Refresh Access Token</a>
                  </li>
                  <li>
                    <a href="#revoke-the-access-token" class="toc-h2 toc-link" data-title="Revoke the Access Token">Revoke the Access Token</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#leads" class="toc-h1 toc-link" data-title="Leads">Leads</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-leads" class="toc-h2 toc-link" data-title="Create Leads">Create Leads</a>
                  </li>
                  <li>
                    <a href="#get-leads" class="toc-h2 toc-link" data-title="Get Leads">Get Leads</a>
                  </li>
                  <li>
                    <a href="#disable-one-or-more-leads" class="toc-h2 toc-link" data-title="Disable one or more leads.">Disable one or more leads.</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started</h1>
<p>Welcome to Squadvoice API! <a href="https://www.squadvoice.co/">SquadVoice</a> provides businesses with an omni-channel outreach engine + distributed team of expert calling reps. Our platform qualifies your Leads faster and provides more sales opportunities. You can use this API to access our API endpoints such as Leads API to add Leads to your campaigns or Response API to know status of your Leads. </p>
<h1 id='authentication'>Authentication</h1><h2 id='get-access-token'>Get Access Token</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/oauth/token/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"grant_type"</span><span class="p">:</span> <span class="s">"password"</span><span class="p">,</span> 
  <span class="s">"client_id"</span><span class="p">:</span> <span class="s">"test_client_id"</span><span class="p">,</span> 
  <span class="s">"client_secret"</span><span class="p">:</span> <span class="s">"test_client_secret"</span><span class="p">,</span> 
  <span class="s">"username"</span><span class="p">:</span> <span class="s">"test_api_user"</span><span class="p">,</span> 
  <span class="s">"password"</span><span class="p">:</span> <span class="s">"test_api_user"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -d <span class="se">\</span>
<span class="s2">"client_id=test_client_id&amp;client_secret=test_client_secret
&amp;grant_type=password&amp;username=test_api_user
&amp;password=test_api_user"</span> <span class="se">\h</span>ttps://app.squadrun.co/oauth/token/
</code></pre>
<blockquote>
<p>The above script command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OBs8bc5PdrzQNd3FaMRp5CkHFhinD9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tEonECLhjMlLf4ZWs56LT43HOrivEt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read write"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>All the API requests to SQUAD are authenticated via <code>Bearer</code> auth.</p>

<p>Use this API to generate an access token that can be used for authentication in subsequent API requests.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/oauth/token/</code></p>
<h3 id='request-content-type'>Request Content-Type</h3>
<p><code>application/x-www-form-urlencoded</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td>True</td>
<td>Client Identifier</td>
</tr>
<tr>
<td><code>client_secret</code></td>
<td>True</td>
<td>Client Secret</td>
</tr>
<tr>
<td><code>grant_type</code></td>
<td>True</td>
<td>&quot;password&quot; is the grant_type that should be sent initially</td>
</tr>
<tr>
<td><code>username</code></td>
<td>True</td>
<td>Username related to the client_id</td>
</tr>
<tr>
<td><code>password</code></td>
<td>True</td>
<td>Password for the above username</td>
</tr>
</tbody></table>
<h3 id='response-content-type'>Response Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='response-format'>Response Format</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td>Access token to be used to authenticate every request.</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td>Refresh token to be used to get a refreshed access token.</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td>Bearer</td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td>Seconds after which the access token will expire. Once the access token has expired, you&#39;ll need the <code>refresh_token</code> to get a new access token.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td>Scopes granted for the access token</td>
</tr>
</tbody></table>
<h3 id='how-to-get-the-credentials'>How to get the credentials</h3>
<p>They can be found by signing up on SquadVoice&#39;s <a href="https://app.squadvoice.co/voice/dashboard/">Client Dashboard</a>.</p>

<p><code>client_id</code> and <code>client_secret</code> can be found on the <a href="https://app.squadvoice.co/voice/dashboard/">API Integration Page</a> on the dashboard.</p>

<aside class="notice">
  <code>/oauth/token/</code> endpoint accepts data as a POST form and not a json dump unlike rest of the APIs below
</aside>
<h2 id='refresh-access-token'>Refresh Access Token</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/oauth/token/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"grant_type"</span><span class="p">:</span> <span class="s">"refresh_token"</span><span class="p">,</span> 
  <span class="s">"client_id"</span><span class="p">:</span> <span class="s">"test_client_id"</span><span class="p">,</span> 
  <span class="s">"client_secret"</span><span class="p">:</span> <span class="s">"test_client_secret"</span><span class="p">,</span> 
  <span class="s">"refresh_token"</span><span class="p">:</span> <span class="s">"refresh_token_value"</span><span class="p">,</span> 
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -d <span class="se">\</span>
<span class="s2">"client_id=test_client_id&amp;client_secret=test_client_secret
&amp;grant_type=refresh_token&amp;refresh_token=rfresh_token_value"</span> <span class="se">\h</span>ttps://app.squadrun.co/oauth/token/
</code></pre>
<blockquote>
<p>The above script command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OBs8bc5PdrzQNd3FaMRp5CkHFhinD9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tEonECLhjMlLf4ZWs56LT43HOrivEt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"read write"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this API to refresh the access token.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/oauth/token/</code></p>
<h3 id='request-content-type-2'>Request Content-Type</h3>
<p><code>application/x-www-form-urlencoded</code></p>
<h3 id='request-body-parameters'>Request Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td>True</td>
<td>Client Identifier</td>
</tr>
<tr>
<td><code>client_secret</code></td>
<td>True</td>
<td>Client Secret</td>
</tr>
<tr>
<td><code>grant_type</code></td>
<td>True</td>
<td><code>refresh_token</code> is the grant_type at this stage.</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td>True</td>
<td>Refresh token that we got in the response for the get access token.</td>
</tr>
</tbody></table>
<h3 id='response-content-type-2'>Response Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='response-format-2'>Response Format</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>access_token</code></td>
<td>New access token to be used to authenticate every request.</td>
</tr>
<tr>
<td><code>refresh_token</code></td>
<td>New refresh token to be used to get a refreshed access token.</td>
</tr>
<tr>
<td><code>token_type</code></td>
<td>Bearer</td>
</tr>
<tr>
<td><code>expires_in</code></td>
<td>Seconds after which the access token will expire. Once the access token has expired, you&#39;ll need the <code>refresh_token</code> to get a new access token.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td>Scopes granted for the access token</td>
</tr>
</tbody></table>
<h2 id='revoke-the-access-token'>Revoke the Access Token</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/oauth/revoke_token/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"client_id"</span><span class="p">:</span> <span class="s">"test_client_id"</span><span class="p">,</span> 
  <span class="s">"client_secret"</span><span class="p">:</span> <span class="s">"test_client_secret"</span><span class="p">,</span> 
  <span class="s">"token"</span><span class="p">:</span> <span class="s">"your_access_token"</span><span class="p">,</span> 
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">payload</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl -X POST -d <span class="se">\</span>
<span class="s2">"client_id=test_client_id&amp;client_secret=test_client_secret
&amp;token=your_access_token"</span> <span class="se">\h</span>ttps://app.squadrun.co/oauth/revoke_token/
</code></pre>
<p>Use this API to revoke the access token.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/oauth/revoke_token/</code></p>
<h3 id='request-content-type-3'>Request Content-Type</h3>
<p><code>application/x-www-form-urlencoded</code></p>
<h3 id='request-body-parameters-2'>Request Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>client_id</code></td>
<td>True</td>
<td>Client Identifier</td>
</tr>
<tr>
<td><code>client_secret</code></td>
<td>True</td>
<td>Client Secret</td>
</tr>
<tr>
<td><code>token</code></td>
<td>True</td>
<td>Token that we want to refresh</td>
</tr>
</tbody></table>
<h3 id='response-content-type-3'>Response Content-Type</h3>
<p><code>text/html; charset=utf-8</code></p>
<h1 id='leads'>Leads</h1><h2 id='create-leads'>Create Leads</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/api/v4/leads/create/{campaign_id}/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s">"lead_id"</span><span class="p">:</span> <span class="s">"uniqueleadid1"</span><span class="p">,</span>
    <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"{valid phone number}"</span><span class="p">,</span>
    <span class="s">"contact_name"</span><span class="p">:</span> <span class="s">"John Doe"</span>
    <span class="s">"{custom_field_1}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span><span class="p">,</span>
    <span class="s">"{custom_field_2}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span>
    <span class="p">},</span>
    <span class="p">{</span>
    <span class="s">"lead_id"</span><span class="p">:</span> <span class="s">"uniqueleadid2"</span><span class="p">,</span>
    <span class="s">"phone_number"</span><span class="p">:</span> <span class="s">"{valid phone number}"</span><span class="p">,</span>
    <span class="s">"contact_name"</span><span class="p">:</span> <span class="s">"John Smith"</span>
    <span class="s">"{custom_field_1}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span><span class="p">,</span>
    <span class="s">"{custom_field_2}"</span><span class="p">:</span> <span class="s">"{custom_value}"</span>
    <span class="p">}</span>
<span class="p">]</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer test_token"</span><span class="p">,</span> 
    <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://app.squadrun.co/api/v4/leads/create/{campaign_id}/'</span> <span class="se">\</span>
-H <span class="s1">'Authorization: Bearer test_token'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
--data-binary <span class="s1">$'{"lead_id": 1, "phone_number": "{valid phone number}", \
"contact_name": "John Doe", "{custom_field_1}": "{custom_value}", "{custom_field_2}": "{custom_value}"}'</span>
</code></pre>
<p>Use this API to create new Leads in your SquadVoice Campaign.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/api/v4/leads/create/{campaign_id}/&quot;</code></p>
<h3 id='request-content-type'>Request Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='request-headers'>Request Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Content-Type</td>
<td><code>application/json</code></td>
</tr>
<tr>
<td>Authorization</td>
<td><code>Bearer {access_token}</code></td>
</tr>
</tbody></table>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>campaign_id</code></td>
<td>True</td>
<td>The ID of the Campaign</td>
</tr>
</tbody></table>
<h3 id='request-body-parameters'>Request Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>lead_id</code></td>
<td>True</td>
<td>Unique Identifier of the Lead for the campaign.</td>
</tr>
<tr>
<td><code>phone_number</code></td>
<td>True</td>
<td>A valid indian phone number of the Lead.</td>
</tr>
<tr>
<td><code>contact_name</code></td>
<td>True</td>
<td>Name of the Lead being contacted</td>
</tr>
<tr>
<td><code>custom_field</code></td>
<td>True</td>
<td>Any key value pair other than this</td>
</tr>
<tr>
<td><code>custom_field</code></td>
<td>True</td>
<td>Any key value pair other than this</td>
</tr>
</tbody></table>

<aside class="success">
  <b>Data Security</b>
  <p>
    Goes without saying, your data is secure with us. :)<br>
    We protect your Lead’s phone number by masking them. This way the <code>phone_number</code> you share with us is never shared with our reps.
  </p>
</aside>
<h3 id='response'>Response</h3>
<p><code>201 Created</code> if the leads were successfully created.</p>

<p><code>403 Forbidden</code> if the request authentication was not successful.</p>

<p><code>400 Bad Request</code> if the request payload had some error. Specific error is provided in the response.</p>
<h2 id='get-leads'>Get Leads</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/api/v4/leads/responses/{campaign_id}/?page_size=1"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer test_token"</span><span class="p">}</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"lead_id"</span><span class="p">:</span> <span class="s">"test_lead_id"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl 
-H <span class="s2">"Authorization: Bearer test_token"</span> 
-X GET <span class="s2">"https://app.squadrun.co/api/v4/leads/responses/{campaign_id}/?lead_id=test_lead_id&amp;page_size=1"</span>
</code></pre>
<blockquote>
<p>The above script returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+91xxxxxxxxxx"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lead_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_lead_id"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latest_recording_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.squadvoice.in/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{campaign_id}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latest_called_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-03T14:36:38+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lead_outcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Connected : Objective Met"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-03T14:37:54+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-03T14:36:01+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lead_responses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"response_key_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"response_value_1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"response_key_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"response_value_2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"response_key_3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"response_value_3"</span><span class="p">,</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this API to get information about a Lead/Leads that has been processed by SquadVoice.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://app.squadrun.co/api/v4/leads/responses/{campaign_id}/</code></p>
<h3 id='request-content-type-2'>Request Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='request-headers-2'>Request Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>Content-Type</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer {access_token}</code></td>
</tr>
</tbody></table>
<h3 id='request-path-parameters'>Request Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>campaign_id</code></td>
<td>True</td>
<td>The ID of the Campaign</td>
</tr>
</tbody></table>
<h3 id='request-query-parameters'>Request Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>lead_id</code></td>
<td>False</td>
<td>-</td>
<td>Unique Identifier of the Lead for the campaign.</td>
</tr>
<tr>
<td><code>processed_after</code></td>
<td>False</td>
<td>-</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td><code>processed_before</code></td>
<td>False</td>
<td>-</td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td><code>page</code></td>
<td>False</td>
<td>-</td>
<td>Page number to return</td>
</tr>
<tr>
<td><code>page_size</code></td>
<td>False</td>
<td>100</td>
<td>Number of leads to return per page</td>
</tr>
</tbody></table>
<h3 id='response-structure'>Response Structure</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>lead_id</code></td>
<td>Unique Identifier of the Lead for the campaign.</td>
</tr>
<tr>
<td><code>phone_number</code></td>
<td>Phone number of the Lead</td>
</tr>
<tr>
<td><code>contact_name</code></td>
<td>Name of the Lead</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>Epoch timestamp</td>
</tr>
<tr>
<td><code>campaign_id</code></td>
<td>Campaign ID which you sent in the URL too</td>
</tr>
<tr>
<td><code>latest_recording_url</code></td>
<td>Latest call recording of the conversation with the lead.</td>
</tr>
<tr>
<td><code>latest_called_at</code></td>
<td>Date and time at which latest call was made to the lead. ISOFORMAT(<code>%Y-%m-%dT%H:%M:%S</code>)</td>
</tr>
<tr>
<td><code>lead_outcome</code></td>
<td>Outcome for the lead.</td>
</tr>
<tr>
<td><code>processed_at</code></td>
<td>Date and time at which the lead was processed. ISOFORMAT(<code>%Y-%m-%dT%H:%M:%S</code>)</td>
</tr>
<tr>
<td><code>lead_responses</code></td>
<td>JSON object containing responses captured for the lead as key-value pairs.</td>
</tr>
</tbody></table>
<h3 id='response-content-type'>Response Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='response-status-code'>Response Status Code</h3>
<p><code>200 OK</code> for a successful request.</p>

<p><code>403 Forbidden</code> if the request authentication was not successful.</p>

<p><code>400 Bad Request</code> if the request payload had some error. Specific error is provided in the response.</p>
<h2 id='disable-one-or-more-leads'>Disable one or more leads.</h2><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">"https://app.squadrun.co/api/v4/leads/disable/{campaign_id}/"</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s">"lead_id"</span><span class="p">:</span> <span class="s">"uniqueleadid1"</span><span class="p">},</span>
    <span class="p">{</span><span class="s">"lead_id"</span><span class="p">:</span> <span class="s">"uniqueleadid2"</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Bearer test_token"</span><span class="p">,</span> 
    <span class="s">"Content-Type"</span><span class="p">:</span> <span class="s">"application/json"</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://app.squadrun.co/api/v4/leads/disable/{campaign_id}/'</span> <span class="se">\</span>
-H <span class="s1">'Authorization: Bearer test_token'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
--data-binary <span class="s1">$'{"lead_id": 1}'</span>
</code></pre>
<p>Use this API to disable a Lead in your SquadVoice Campaign.
Disabling the lead will stop all reach-outs on it.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://app.squadrun.co/api/v4/leads/disable/{campaign_id}/&quot;</code></p>
<h3 id='request-content-type-3'>Request Content-Type</h3>
<p><code>application/json</code></p>
<h3 id='request-headers-3'>Request Headers</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>Content-Type</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>Authorization</code></td>
<td><code>Bearer {access_token}</code>`</td>
</tr>
</tbody></table>
<h3 id='request-path-parameters-2'>Request Path Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>campaign_id</code></td>
<td>True</td>
<td>The ID of the Campaign</td>
</tr>
</tbody></table>
<h3 id='request-body-parameters-2'>Request Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>lead_id</code></td>
<td>True</td>
<td>Unique Identifier of the Lead</td>
</tr>
</tbody></table>
<h3 id='response-status-code-2'>Response Status Code</h3>
<p><code>201 OK</code> for a successful request.</p>

<p><code>403 Forbidden</code> if the request authentication was not successful.</p>

<p><code>400 Bad Request</code> if the request payload had some error. Specific error is provided in the response.</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This defines all the error codes you might encounter in the code
</aside>

<p>The SquadVoice API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Authentication failed. API credentials are incorrect.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- You do not have permission to perform this action.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an endpoing with an invalid method.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You hit a rate limit!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
